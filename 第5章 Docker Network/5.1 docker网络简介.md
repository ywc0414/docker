###### 一，概述

`Docker`容器每次重启后容器`IP`是会发生变化的。这也意味着如果容器间使用`ip`地址来进行通信的话，一旦有容器重启，重启的容器将不再能被访问到。

而`Docker` 网络就能够解决这个问题。

`Docker` 网络主要有以下两个作用：

- 容器间的互联和通信以及端口映射
- 容器`IP`变动时候可以通过服务名直接网络通信而不受到影响

###### 二，网络模式

| 模式名称  | 命令指定方式         | 描述                                                         |
| --------- | -------------------- | ------------------------------------------------------------ |
| bridge    | --network bridge     | 为每一个容器分配、设置 `ip` ，并将容器连接到 `docker0` 虚拟网桥上，这也是默认网络模式 |
| host      | --network host       | 容器不会创建自己的网卡，配置 `ip` 等，而是使用宿主机的 `ip` 和端口 |
| container | --network 容器名或id | 新创建的容器不会创建自己的网卡和配置自己的`ip`，而是和一个指定的容器共享`ip`、端口范围 |
| none      | --network none       | 容器有独立的`Network namespace`，但并没有对其进行任何网络设置 |

> --network和--net命令是一样的，--net是简写
>
> docker安装完成后，会自动创建三个网络：bridge，host，none

- **桥接模式-bridge**

  Docker服务启动 时，默认会创建一个名称为 docker0 网桥（其上有一个名称为 docker0 内部接口）。该桥接网络的名称为docker0，它在内核层连通了其他的物理或虚拟网卡，这就将所有容器和本地主机都放到同一个物理网络。Docker会 默认指定docker0 的 ip地址和子网掩码，让主机和容器之间可以通过网桥相互通信。


- **主机模式-host**

  不创建任何网络接口，直接使用宿主机的 `ip`地址与外界进行通信，不再需要额外进行`NAT`转换。

- **容器模式-container**

  新建的容器和已经存在的一个容器共享一个网络`ip`配置而不是和宿主机共享。新创建的容器不会创建自己的网卡，配置自己的`ip`，而是和一个指定的容器共享`ip`、端口范围等。两个容器除了网络方面，其他的如文件系统、进程列表等还是隔离的。

- **none模式**

  在`none`模式下，并不为`Docker`容器进行任何网络配置。

